{
  "version": 3,
  "sources": ["src/main.ts", "src/analyzer/StudyAnalyzer.ts", "src/modal/ConfirmHighlightModal.ts", "src/applier/HighlightApplier.ts", "src/workflow/HighlightWorkflow.ts"],
  "sourcesContent": ["import { Plugin, Notice, MarkdownView } from 'obsidian';\r\nimport { StudyAnalyzer } from './analyzer/StudyAnalyzer';\r\nimport { HighlightWorkflow } from './workflow/HighlightWorkflow';\r\n\r\n\r\n\r\n\r\nexport default class AutomaticHighlighter extends Plugin {\r\n\r\n    private analyzer = new StudyAnalyzer();\r\n\r\n    private executeWorkflow() {\r\n\r\n        const view = this.app.workspace.getActiveViewOfType(MarkdownView);\r\n        if (!view) return;\r\n\r\n        const editor = view.editor;\r\n        if (!editor) return;\r\n\r\n        const workflow = new HighlightWorkflow(this.app);\r\n        workflow.run(editor);\r\n    }\r\n\r\n\r\n    private registerAnalyzeCommand() {\r\n        this.addCommand({\r\n            id: \"analyze-and-highlight\",\r\n            name: \"Analyze and Suggest Highlights\",\r\n            callback: () => this.executeWorkflow()\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private registerNotificationCommand() {\r\n\r\n        this.addCommand({\r\n            id: 'show-notification',\r\n            name: 'Show Notification',\r\n            callback: () => {\r\n                new Notice('This is a notification from the Keyword Highlighter Plugin!');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private registerReloadCommand() {\r\n        this.addCommand({\r\n            id: 'reload-plugin',\r\n            name: 'Reload this plugin',\r\n            callback: async () => {\r\n                const id = this.manifest.id;\r\n\r\n                // @ts-ignore (internal API from Obsidian)\r\n                await this.app.plugins.disablePlugin(id);\r\n\r\n                // @ts-ignore (internal API from Obsidian)\r\n                await this.app.plugins.enablePlugin(id);\r\n                new Notice('Keyword Highlighter plugin reloaded!');\r\n            }\r\n        });\r\n    }\r\n\r\n    async onload() {\r\n        // this is called when the plugin is loaded\r\n        console.log('Loading Keyword Highlighter Plugin');\r\n\r\n        this.registerAnalyzeCommand();\r\n        this.registerNotificationCommand();\r\n        this.registerReloadCommand();\r\n\r\n    }\r\n\r\n    onunload() {\r\n        // this is called when the plugin is unloaded\r\n        console.log('Unloading Keyword Highlighter Plugin');\r\n    }\r\n\r\n\r\n\r\n}", "export type HighlightType =\r\n    | \"definition\"\r\n    | \"purpose\"\r\n    | \"principle\"\r\n    | \"acronym\"\r\n    | \"comparison\"\r\n    | \"important\"\r\n    | \"example\"\r\n    | \"conclusion\"\r\n    | \"warning\";\r\n\r\nexport interface HighlightCandidate {\r\n    text: string;\r\n    start: number;\r\n    end: number;\r\n    type: HighlightType;\r\n}\r\n\r\nexport class StudyAnalyzer {\r\n\r\n    analyze(content: string): HighlightCandidate[] {\r\n        const results: HighlightCandidate[] = [];\r\n\r\n        const lines = content.split(\"\\n\");\r\n        let offset = 0;\r\n\r\n        for (const line of lines) {\r\n\r\n            const lowerLine = line.toLowerCase();\r\n\r\n            let detectedType: HighlightType | null = null;\r\n            let start = offset;\r\n            let end = offset + line.length;\r\n\r\n            // PRIORIDADE 3 - DEFINITION (PT + EN)\r\n            if (\r\n                lowerLine.includes(\" \u00E9 \") ||\r\n                lowerLine.includes(\" is \") ||\r\n                lowerLine.includes(\" refere-se a \") ||\r\n                lowerLine.includes(\" is defined as \") ||\r\n                lowerLine.includes(\" consiste em \") ||\r\n                lowerLine.includes(\" consists of \")\r\n            ) {\r\n                detectedType = \"definition\";\r\n            }\r\n\r\n            // PRIORIDADE 4 - PURPOSE (PT + EN)\r\n            else if (\r\n                lowerLine.includes(\"visa\") ||\r\n                lowerLine.includes(\"serve para\") ||\r\n                lowerLine.includes(\"tem como objetivo\") ||\r\n                lowerLine.includes(\"permite\") ||\r\n                lowerLine.includes(\"allows\") ||\r\n                lowerLine.includes(\"enables\") ||\r\n                lowerLine.includes(\"aims to\") ||\r\n                lowerLine.includes(\"is used to\")\r\n            ) {\r\n                detectedType = \"purpose\";\r\n            }\r\n\r\n            // PRIORIDADE 5 - EXAMPLE\r\n            else if (\r\n                lowerLine.includes(\"por exemplo\") ||\r\n                lowerLine.includes(\"for example\") ||\r\n                lowerLine.includes(\"for instance\") ||\r\n                lowerLine.includes(\"e.g.\")\r\n            ) {\r\n                detectedType = \"example\";\r\n            }\r\n\r\n            // PRIORIDADE 6 - COMPARISON\r\n            else if (\r\n                lowerLine.includes(\"diferente de\") ||\r\n                lowerLine.includes(\"similar to\") ||\r\n                lowerLine.includes(\"in contrast\") ||\r\n                lowerLine.includes(\"por outro lado\") ||\r\n                lowerLine.includes(\"on the other hand\")\r\n            ) {\r\n                detectedType = \"comparison\";\r\n            }\r\n\r\n            // PRIORIDADE 7 - IMPORTANT\r\n            else if (\r\n                lowerLine.includes(\"importante\") ||\r\n                lowerLine.includes(\"fundamental\") ||\r\n                lowerLine.includes(\"essential\") ||\r\n                lowerLine.includes(\"crucial\") ||\r\n                lowerLine.includes(\"key\")\r\n            ) {\r\n                detectedType = \"important\";\r\n            }\r\n\r\n            // PRIORIDADE 8 - CONCLUSION\r\n            else if (\r\n                lowerLine.includes(\"em resumo\") ||\r\n                lowerLine.includes(\"portanto\") ||\r\n                lowerLine.includes(\"therefore\") ||\r\n                lowerLine.includes(\"in summary\") ||\r\n                lowerLine.includes(\"thus\")\r\n            ) {\r\n                detectedType = \"conclusion\";\r\n            }\r\n\r\n            if (detectedType) {\r\n                results.push({\r\n                    text: line,\r\n                    start,\r\n                    end,\r\n                    type: detectedType\r\n                });\r\n            }\r\n\r\n            // ACRONYM (separado, porque pode estar dentro de outro tipo)\r\n            const acronymMatch = line.match(/\\b[A-Z]{2,}\\s*\\([^)]+\\)/);\r\n            if (acronymMatch) {\r\n                const index = line.indexOf(acronymMatch[0]);\r\n\r\n                results.push({\r\n                    text: acronymMatch[0],\r\n                    start: offset + index,\r\n                    end: offset + index + acronymMatch[0].length,\r\n                    type: \"acronym\"\r\n                });\r\n            }\r\n\r\n            offset += line.length + 1;\r\n        }\r\n\r\n        return results;\r\n    }\r\n}", "import { App, Modal } from \"obsidian\";\r\n\r\nexport class ConfirmHighlightModal extends Modal {\r\n\r\n    private onConfirm: () => void;\r\n    private onCancel: () => void;\r\n    private highlightCount: number;\r\n\r\n    constructor(\r\n        app: App,\r\n        highlightCount: number,\r\n        onConfirm: () => void,\r\n        onCancel: () => void\r\n    ) {\r\n        super(app);\r\n        this.highlightCount = highlightCount;\r\n        this.onConfirm = onConfirm;\r\n        this.onCancel = onCancel;\r\n    }\r\n\r\n    onOpen() {\r\n        const { contentEl } = this;\r\n        contentEl.addClass(\"ah-modal\");\r\n\r\n        contentEl.createEl(\"h2\", {\r\n            text: \"Highlights Applied\"\r\n        });\r\n\r\n        contentEl.createEl(\"p\", {\r\n            text: `${this.highlightCount} highlights were added to this note.`\r\n        });\r\n\r\n        contentEl.createEl(\"p\", {\r\n            text: \"Would you like to keep the changes?\"\r\n        });\r\n\r\n        const buttonContainer = contentEl.createDiv({\r\n            cls: \"ah-modal-buttons\"\r\n        });\r\n\r\n        const keepBtn = buttonContainer.createEl(\"button\", {\r\n            text: \"Keep Changes\",\r\n            cls: \"mod-cta\"\r\n        });\r\n\r\n        keepBtn.onclick = () => {\r\n            this.onConfirm();\r\n            this.close();\r\n        };\r\n\r\n        const revertBtn = buttonContainer.createEl(\"button\", {\r\n            text: \"Revert\"\r\n        });\r\n\r\n        revertBtn.onclick = () => {\r\n            this.onCancel();\r\n            this.close();\r\n        };\r\n    }\r\n\r\n    onClose() {\r\n        this.contentEl.empty();\r\n    }\r\n}", "import { Editor } from \"obsidian\";\r\nimport { HighlightCandidate } from \"../analyzer/StudyAnalyzer\";\r\n\r\nexport class HighlightApplier {\r\n\r\n    apply(editor: Editor, candidates: HighlightCandidate[]) {\r\n\r\n        const content = editor.getValue();\r\n        const lines = content.split(\"\\n\");\r\n\r\n        const updatedLines = lines.map(line => {\r\n\r\n            const match = candidates.find(c => c.text === line);\r\n            if (!match || match.type === \"acronym\") return line;\r\n\r\n            // J\u00E1 est\u00E1 destacado?\r\n            if (line.startsWith(\"==\") && line.endsWith(\"==\")) {\r\n                return line;\r\n            }\r\n\r\n            // Detecta prefixos estruturais\r\n            const prefixMatch = line.match(/^(\\s*(\\d+\\.\\s|- |\\> |#{1,6}\\s))/);\r\n\r\n            if (prefixMatch) {\r\n                const prefix = prefixMatch[0];\r\n                const rest = line.slice(prefix.length);\r\n\r\n                return `${prefix}==${rest}==`;\r\n            }\r\n\r\n            return `==${line}==`;\r\n        });\r\n\r\n        editor.setValue(updatedLines.join(\"\\n\"));\r\n    }\r\n}", "import { App, Editor } from \"obsidian\";\r\nimport { StudyAnalyzer } from \"../analyzer/StudyAnalyzer\";\r\nimport { ConfirmHighlightModal } from \"../modal/ConfirmHighlightModal\";\r\nimport { HighlightApplier } from \"../applier/HighlightApplier\";\r\n\r\nexport class HighlightWorkflow {\r\n\r\n    private app: App;\r\n    private analyzer: StudyAnalyzer;\r\n    private applier: HighlightApplier;\r\n\r\n    constructor(app: App) {\r\n        this.app = app;\r\n        this.analyzer = new StudyAnalyzer();\r\n        this.applier = new HighlightApplier();\r\n    }\r\n\r\n    run(editor: Editor) {\r\n\r\n        const originalContent = editor.getValue();\r\n        const candidates = this.analyzer.analyze(originalContent);\r\n\r\n        if (candidates.length === 0) return;\r\n\r\n        this.applier.apply(editor, candidates);\r\n\r\n        new ConfirmHighlightModal(\r\n            this.app,\r\n            candidates.length,\r\n            () => {\r\n                // KEEP \u2192 n\u00E3o faz nada\r\n            },\r\n            () => {\r\n                editor.setValue(originalContent);\r\n            }\r\n        ).open();\r\n    }\r\n}"],
  "mappings": "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",
  "names": ["import_obsidian"]
}
